(function(){function e(e){for(var t=document.getElementsByClassName("js-react-on-rails-component"),n=0;n<t.length;n++)e(t[n])}function t(){e(o)}function n(){e(r)}function r(e){var t=e.getAttribute("data-dom-id"),n=document.getElementById(t);i().unmountComponentAtNode(n)}function o(e){var t=e.getAttribute("data-component-name"),n=e.getAttribute("data-dom-id"),r=JSON.parse(e.getAttribute("data-props")),o=JSON.parse(e.getAttribute("data-trace")),c=JSON.parse(e.getAttribute("data-generator-function")),l=JSON.parse(e.getAttribute("data-expect-turbo-links"));!d&&l&&console.warn("WARNING: NO TurboLinks detected in JS, but it is in your Gemfile");try{var u=document.getElementById(n);if(u){var m=a(t,r,n,o,c);if(s(m))throw new Error("You returned a server side type of react-router error: "+JSON.stringify(m)+"\nYou should return a React.Component always for the client side entry point.");i().render(m,u)}}catch(p){ReactOnRails.handleError({e:p,componentName:t,serverSide:!1})}}function a(e,t,n,r,o,a){return r&&console.log("RENDERED "+e+" to dom node with id: "+n),o?this[e](t,a):React.createElement(this[e],t)}function i(){return"undefined"==typeof ReactDOM?(React.version>="0.14"&&console.warn("WARNING: ReactDOM is not configured in webpack.server.rails.config.js file as an entry.\nSee: https://github.com/shakacode/react_on_rails/blob/master/docs/webpack.md for more detailed hints."),React):ReactDOM}function c(){return"undefined"==typeof ReactDOMServer?(React.version>="0.14"&&console.warn("WARNING: `react-dom/server` is not configured in webpack.server.rails.config.js file as an entry.\nSee: https://github.com/shakacode/react_on_rails/blob/master/docs/webpack.md for more detailed hints."),React):ReactDOMServer}function s(e){return!(!e.redirectLocation&&!e.error)}this.ReactOnRails={};var d="undefined"!=typeof Turbolinks;ReactOnRails.serverRenderReactComponent=function(e){var t=e.componentName,n=e.domId,r=e.props,o=e.trace,i=e.generatorFunction,d=e.location,l="",u=!1;try{var m=a(t,r,n,o,i,d);s(m)?(u=!!m.routeError,u?console.error("React Router ERROR: "+JSON.stringify(m.routeError)):o&&(redirectLocation=m.redirectLocation,redirectPath=redirectLocation.pathname+redirectLocation.search,console.log("ROUTER REDIRECT: "+t+" to dom node with id: "+n+", redirect to "+redirectPath))):l=c().renderToString(m)}catch(p){u=!0,l=ReactOnRails.handleError({e:p,componentName:t,serverSide:!0})}return consoleReplayScript=ReactOnRails.buildConsoleReplay(),JSON.stringify({html:l,consoleReplayScript:consoleReplayScript,hasErrors:u})},ReactOnRails.handleError=function(e){var t=e.e,n=e.componentName,r=e.jsCode,o=e.serverSide,a="ERROR: You specified the option generator_function (could be in your defaults) to be\n",i="A generator function takes a single arg of props and returns a ReactElement.";console.error("Exception in rendering!");var s="";if(n){var d=a+"false, but the React component '"+n+"' seems to be a generator function.\n"+i,l=/Can't add property context, object is not extensible/;l.test(t.message)&&(s+=d+"\n\n",console.error(d));var d=a+"true, but the React component '"+n+"' is not a generator function.\n"+i,u=/Cannot call a class as a function/;u.test(t.message)&&(s+=d+"\n\n",console.error(d))}if(r&&console.error("JS code was: "+r),t.fileName&&console.error("location: "+t.fileName+":"+t.lineNumber),console.error("message: "+t.message),console.error("stack: "+t.stack),o){s+="Exception in rendering!\n"+(t.fileName?"\nlocation: "+t.fileName+":"+t.lineNumber:"")+"\nMessage: "+t.message+"\n\n"+t.stack;var m=React.createElement("pre",null,s);return c().renderToString(m)}},ReactOnRails.wrapInScriptTags=function(e){return e?"\n<script>"+e+"\n</script>":""},ReactOnRails.buildConsoleReplay=function(){var e="",t=console.history;return t&&t.length>0&&t.forEach(function(t){e+="\nconsole."+t.level+".apply(console, "+JSON.stringify(t.arguments)+");"}),ReactOnRails.wrapInScriptTags(e)},"undefined"!=typeof document&&(d?(document.addEventListener("page:before-unload",n),document.addEventListener("page:change",t)):document.addEventListener("DOMContentLoaded",t))}).call(this);